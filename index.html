<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸Šç”°ã§ãƒ¢ãƒ«ãƒƒã‚¯ï¼ | å…¬å¼ã‚µã‚¤ãƒˆ</title>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap');
        
        :root {
            --brand-green: #00FF5F;
        }

        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #050505;
            color: #ffffff;
            margin: 0;
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--brand-green); }

        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        @keyframes mesh-pulse {
            0% { transform: scale(1) translate(0, 0); }
            50% { transform: scale(1.2) translate(5%, 5%); }
            100% { transform: scale(1) translate(0, 0); }
        }

        .animate-mesh {
            animation: mesh-pulse 10s ease-in-out infinite;
        }

        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>

    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.2.4",
    "react-dom": "https://esm.sh/react-dom@19.2.4/client",
    "@google/genai": "https://esm.sh/@google/genai@1.41.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom';
        import { GoogleGenAI } from "@google/genai";

        // --- Utils & Constants ---
        const STORAGE_KEY = 'ueda_molkky_visitor_stats';
        const getTodayString = () => new Date().toISOString().split('T')[0];

        const incrementVisitorCount = () => {
            try {
                const today = getTodayString();
                const stored = localStorage.getItem(STORAGE_KEY);
                if (!stored) {
                    const initialState = { count: 1, lastUpdate: today };
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(initialState));
                    return 1;
                }
                const stats = JSON.parse(stored);
                if (stats.lastUpdate !== today) {
                    const resetState = { count: 1, lastUpdate: today };
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(resetState));
                    return 1;
                }
                const newCount = stats.count + 1;
                localStorage.setItem(STORAGE_KEY, JSON.stringify({ ...stats, count: newCount }));
                return newCount;
            } catch (e) { return 1; }
        };

        const SYSTEM_INSTRUCTION = `ã‚ãªãŸã¯ã€Œä¸Šç”°ã§ãƒ¢ãƒ«ãƒƒã‚¯ï¼ã€ã®æ¡ˆå†…å½¹ã§ã™ã€‚é•·é‡çœŒä¸Šç”°å¸‚ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ã¤ã„ã¦ä¸å¯§ã«å¿œå¯¾ã—ã¦ãã ã•ã„ã€‚`;

        // --- Components ---

        const Header = ({ visitorCount }) => (
            <header className="fixed top-0 z-50 w-full bg-[#050505]/60 backdrop-blur-xl border-b border-white/5">
                <div className="container mx-auto px-6 h-20 flex justify-between items-center">
                    <a href="#" className="flex items-center space-x-4 group">
                        <div className="w-10 h-10 bg-[#00FF5F] rounded-xl flex items-center justify-center text-black font-black rotate-[-10deg] group-hover:rotate-0 transition-all">12</div>
                        <h1 className="text-xl font-black tracking-tighter text-white">ä¸Šç”°ã§ãƒ¢ãƒ«ãƒƒã‚¯ï¼</h1>
                    </a>
                    <nav className="hidden md:flex items-center space-x-8">
                        <a href="#guide" className="text-sm font-bold text-white/70 hover:text-[#00FF5F]">ã‚¬ã‚¤ãƒ‰</a>
                        <a href="#schedule" className="text-sm font-bold text-white/70 hover:text-[#00FF5F]">æ—¥ç¨‹</a>
                        <a href="https://forms.gle/9ytXATgDVdoTpBNE9" target="_blank" className="px-6 py-2 bg-[#00FF5F] text-black text-sm font-black rounded-xl hover:scale-105 transition-all">å‚åŠ ç”³è¾¼</a>
                    </nav>
                    <div className="bg-white/5 px-4 py-2 rounded-full border border-white/10">
                        <span className="text-[10px] font-black text-white/60 tracking-widest uppercase">Visitor: <span className="text-white text-xs ml-1">{visitorCount}</span></span>
                    </div>
                </div>
            </header>
        );

        const Hero = () => (
            <section className="relative min-h-screen flex items-center justify-center overflow-hidden">
                <div className="absolute inset-0 z-0">
                    <div className="absolute top-[-10%] left-[-5%] w-[60%] h-[60%] bg-[#00FF5F]/10 rounded-full blur-[120px] animate-mesh"></div>
                    <div className="absolute bottom-[-10%] right-[-5%] w-[50%] h-[50%] bg-[#008F35]/10 rounded-full blur-[120px] animate-mesh [animation-delay:4s]"></div>
                </div>
                <div className="container mx-auto px-6 relative z-10 text-center">
                    <div className="glass p-12 md:p-24 rounded-[3.5rem] max-w-5xl mx-auto shadow-2xl border border-white/5">
                        <h2 className="text-5xl md:text-8xl font-black text-white mb-8 tracking-tighter leading-tight">
                            èŠç”Ÿã«ä¸¦ã¶ã€<br/>
                            <span className="text-transparent bg-clip-text bg-gradient-to-b from-[#00FF5F] to-[#00A33C]">ã‚¹ã‚­ãƒƒãƒˆãƒ«</span>ã‚’ç‹™ãˆã€‚
                        </h2>
                        <p className="text-xl md:text-2xl text-white/50 mb-12 max-w-2xl mx-auto font-bold">ä¿¡å·ä¸Šç”°ã®å¿ƒåœ°ã‚ˆã„é¢¨ã®ä¸­ã§ã€æ–°ã—ã„è¶£å‘³ã‚’å§‹ã‚ã¾ã›ã‚“ã‹ï¼Ÿ</p>
                        <div className="flex flex-col sm:flex-row gap-6 justify-center">
                            <a href="https://forms.gle/9ytXATgDVdoTpBNE9" target="_blank" className="bg-[#00FF5F] text-black px-12 py-5 rounded-2xl font-black text-xl hover:scale-105 transition-all">ä»Šã™ãä½“é¨“ã‚’ç”³ã—è¾¼ã‚€</a>
                            <a href="#schedule" className="bg-white/5 hover:bg-white/10 text-white px-10 py-5 rounded-2xl font-black text-xl transition-all border border-white/10">æ—¥ç¨‹ã‚’è¦‹ã‚‹</a>
                        </div>
                    </div>
                </div>
            </section>
        );

        const BeginnersGuide = () => {
            const steps = [
                { title: 'æº–å‚™', desc: '3ã€œ4mé›¢ã‚ŒãŸä½ç½®ã‹ã‚‰ã€æœ¨ã®æ£’ã‚’æŠ•ã’ã¾ã™ã€‚', icon: 'ğŸ¯' },
                { title: 'ç‹™ã†', desc: '1ã€œ12ã®æ•°å­—ãŒæ›¸ã‹ã‚ŒãŸãƒ”ãƒ³ã‚’å€’ã—ã¾ã™ã€‚', icon: 'ğŸ³' },
                { title: 'å¾—ç‚¹', desc: '1æœ¬ãªã‚‰ãã®æ•°å­—ã€è¤‡æ•°ãªã‚‰ãã®æœ¬æ•°ãŒå¾—ç‚¹ã€‚', icon: 'ğŸ“' },
                { title: 'å‹åˆ©', desc: 'ã¡ã‚‡ã†ã©50ç‚¹ã«ãªã£ãŸäººã®å‹ã¡ï¼', icon: 'ğŸ†' }
            ];
            return (
                <section id="guide" className="py-32 bg-[#080808]">
                    <div className="container mx-auto px-6 max-w-4xl">
                        <div className="text-center mb-20">
                            <h3 className="text-4xl font-black text-white mb-4 relative inline-block">åˆå¿ƒè€…ã‚¬ã‚¤ãƒ‰<span className="absolute bottom-0 left-0 w-full h-1 bg-[#00FF5F]"></span></h3>
                        </div>
                        <div className="grid gap-6">
                            {steps.map((s, i) => (
                                <div key={i} className="flex items-center gap-8 bg-white/5 p-8 rounded-3xl border border-white/10 hover:border-[#00FF5F]/30 transition-all">
                                    <div className="text-4xl">{s.icon}</div>
                                    <div>
                                        <h4 className="text-xl font-black text-white">{s.title}</h4>
                                        <p className="text-white/50 font-bold">{s.desc}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const Schedule = () => {
            const items = [
                { date: '2025å¹´2æœˆ22æ—¥ ï¼ˆæ—¥ï¼‰', time: '13:00 ã€œ 15:30', loc: 'ä¸¸å­ãƒ™ãƒ«ãƒ‘ãƒ¼ã‚¯ èŠç”Ÿåºƒå ´', desc: 'å†¬ã®ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤ç·´ç¿’ä¼šï¼ä½“ã‚’å‹•ã‹ã—ã¦æ¸©ã¾ã‚Šã¾ã—ã‚‡ã†ã€‚' },
                { date: '2025å¹´4æœˆ27æ—¥ (æ—¥)', time: '10:00 ã€œ 12:00', loc: 'ä¸Šç”°åŸè·¡å…¬åœ’ èŠç”Ÿåºƒå ´', desc: 'æ˜¥ã®åˆå¿ƒè€…ä½“é¨“ä¼šã€‚æ¡œã®ä¸‹ã§ãƒ¢ãƒ«ãƒƒã‚¯ãƒ‡ãƒ“ãƒ¥ãƒ¼ï¼' }
            ];
            return (
                <section id="schedule" className="py-32">
                    <div className="container mx-auto px-6 max-w-5xl">
                        <h3 className="text-4xl font-black text-center text-white mb-20">ç·´ç¿’ä¼šã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h3>
                        <div className="grid md:grid-cols-2 gap-10">
                            {items.map((item, i) => (
                                <div key={i} className="bg-white/5 rounded-[2.5rem] overflow-hidden border border-white/10 hover:border-[#00FF5F]/40 transition-all">
                                    <div className="bg-[#00FF5F] p-8 text-black font-black">
                                        <p className="text-3xl mb-1">{item.date}</p>
                                        <p className="text-lg opacity-60">{item.time}</p>
                                    </div>
                                    <div className="p-10">
                                        <p className="text-white text-xl font-black mb-4">{item.loc}</p>
                                        <p className="text-white/40 font-bold mb-8">{item.desc}</p>
                                        <a href="https://forms.gle/9ytXATgDVdoTpBNE9" target="_blank" className="block text-center py-4 bg-white/5 hover:bg-[#00FF5F] hover:text-black rounded-xl font-black transition-all">å‚åŠ ã‚’äºˆç´„ã™ã‚‹</a>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const Chatbot = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [messages, setMessages] = useState([{ role: 'assistant', content: 'ã“ã‚“ã«ã¡ã¯ï¼ä¸Šç”°ãƒ¢ãƒ«ãƒƒã‚¯æ¡ˆå†…å½¹ã§ã™ã€‚' }]);
            const [input, setInput] = useState('');
            const [loading, setLoading] = useState(false);
            const scrollRef = useRef(null);

            useEffect(() => scrollRef.current?.scrollIntoView({ behavior: 'smooth' }), [messages]);

            const onSend = async (e) => {
                e.preventDefault();
                if (!input.trim() || loading) return;
                const userMsg = input;
                setInput('');
                setMessages(prev => [...prev, { role: 'user', content: userMsg }]);
                setLoading(true);
                try {
                    const ai = new GoogleGenAI({ apiKey: process.env.API_KEY || '' });
                    const res = await ai.models.generateContent({
                        model: 'gemini-3-flash-preview',
                        contents: userMsg,
                        config: { systemInstruction: SYSTEM_INSTRUCTION }
                    });
                    setMessages(prev => [...prev, { role: 'assistant', content: res.text || '...' }]);
                } catch {
                    setMessages(prev => [...prev, { role: 'assistant', content: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚' }]);
                }
                setLoading(false);
            };

            return (
                <div className="fixed bottom-6 right-6 z-50 flex flex-col items-end">
                    {isOpen && (
                        <div className="w-[340px] h-[500px] bg-white rounded-3xl shadow-2xl flex flex-col overflow-hidden mb-4 border border-stone-200">
                            <div className="bg-[#00FF5F] p-6 flex justify-between items-center text-black font-black">
                                <span>æ¡ˆå†…å½¹ãƒœãƒƒãƒˆ</span>
                                <button onClick={() => setIsOpen(false)}>âœ•</button>
                            </div>
                            <div className="flex-grow p-6 overflow-y-auto space-y-4 bg-stone-50">
                                {messages.map((m, i) => (
                                    <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                        <div className={`max-w-[85%] p-4 rounded-2xl font-bold text-sm ${m.role === 'user' ? 'bg-[#00FF5F] text-black rounded-tr-none' : 'bg-white text-stone-800 rounded-tl-none shadow-sm'}`}>
                                            {m.content}
                                        </div>
                                    </div>
                                ))}
                                <div ref={scrollRef} />
                            </div>
                            <form onSubmit={onSend} className="p-4 bg-white border-t flex gap-2">
                                <input value={input} onChange={e => setInput(e.target.value)} placeholder="è³ªå•..." className="flex-grow p-3 bg-stone-100 rounded-xl font-bold outline-none" />
                                <button type="submit" className="bg-[#00FF5F] p-3 rounded-xl">ğŸš€</button>
                            </form>
                        </div>
                    )}
                    <button onClick={() => setIsOpen(!isOpen)} className="w-16 h-16 bg-[#00FF5F] text-black rounded-2xl shadow-xl flex items-center justify-center font-black text-2xl hover:scale-110 transition-all">
                        {isOpen ? 'âœ•' : 'ğŸ’¬'}
                    </button>
                </div>
            );
        };

        const App = () => {
            const [vCount, setVCount] = useState(0);
            useEffect(() => { setVCount(incrementVisitorCount()); }, []);
            return (
                <div className="min-h-screen">
                    <Header visitorCount={vCount} />
                    <main>
                        <Hero />
                        <BeginnersGuide />
                        <Schedule />
                    </main>
                    <footer className="bg-[#050505] py-20 border-t border-white/5 text-center">
                        <div className="container mx-auto px-6">
                            <div className="flex justify-center gap-8 mb-8">
                                <a href="https://www.instagram.com/ueda_mormor/" target="_blank" className="text-[#00FF5F] font-black text-xl hover:underline">Instagram ğŸ“¸</a>
                            </div>
                            <p className="text-white/20 font-black tracking-widest text-xs uppercase">Â© 2025 SHINSHU UEDA MOLKKY. ALL RIGHTS RESERVED.</p>
                        </div>
                    </footer>
                    <Chatbot />
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
